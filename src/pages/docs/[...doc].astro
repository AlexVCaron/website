---
import MarkdownTocLayout from '@layouts/MarkdownTocLayout.astro';
import { getCollection } from 'astro:content';
export async function getStaticPaths() {
    const docs = await getCollection('docs');
    return docs.map((doc) => ({
        params: {
            doc: doc.slug,
        },
        props: {
            doc: doc,
        },
    }));
}
const title = Astro.props.doc.data.title;
const subtitle = Astro.props.doc.data.subtitle;
let frontmatter = Astro.props.doc.data;
let body = Astro.props.doc.body;
const { headings, Content, remarkPluginFrontmatter } = await Astro.props.doc.render();

// TODO: update github url
const md_github_url = 'https://github.com/nf-core/nf-co.re/blob/master/markdown/docs/' + Astro.props.doc.id;

export const prerender = true;
---

<MarkdownTocLayout title={title} subtitle={subtitle} md_github_url={md_github_url} headings={headings}>
    <Content />
</MarkdownTocLayout>
