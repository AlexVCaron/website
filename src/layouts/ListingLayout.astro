---
import PageLayout from './PageLayout.astro';
import FilterBar from '@components/FilterBar.svelte';
import ModulesListing from '@components/ModulesListing.svelte';
import PipelinesListing from '@components/PipelinesListing.svelte';

export interface Props {
    title: string;
    description: string;
    filter: { name: string; class?: string }[];
    displayStyle: { name: string; icon: string }[];
    sortBy: string[];
    pipelines?: object[];
    components?: object[];
}

const { title, description, filter, displayStyle, sortBy, pipelines, components } = Astro.props;
---

<PageLayout title={title} subtitle={description}>
    <FilterBar filter={filter} displayStyle={displayStyle} sortBy={sortBy} client:load />
    {Astro.url.pathname === '/pipelines/' && <PipelinesListing pipelines={pipelines} client:visible />}
    {Astro.url.pathname === '/modules/' && <ModulesListing modules={components} client:load />}

    <slot />
</PageLayout>

<style lang="scss"></style>
